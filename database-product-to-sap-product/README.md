# Database Product to SAP Product

This project integrates a database containing product data and [SAP S/4HANA](https://www.sap.com/products/erp/s4hana.html), an ERP system. It automates the process of creating new products in SAP based on the product data stored in the database.

## Use Case

In business operations, it's common to maintain product data in a database, and this data may need to be migrated to an ERP system like SAP. This integration streamlines the process by automatically creating new products in SAP based on the product information stored in the database.

## Prerequisites

Before setting up this integration, you'll need an SAP S/4HANA account with permissions to products.

### Setting up persist client

1. Within the project run, `bal persist generate`.

### Setting up the MySQL Database

1. Set up and create a MySQL database.

2. Create a table called `Product` by executing `generated/script.sql` generated by persist.
```
mysql> source <path-to-script.sql>
```

3. Insert a sample product into the `Product` table with `insert-data.sql`.
```
mysql> source <path-to-insert-data.sql>
```

### Setting up an SAP Account

1. If you don't have an SAP account, create one and ensure you have the necessary permissions to create products.

2. Obtain your SAP API credentials, including the username and password required for authenticating with the SAP client.

3. Configure your project settings and credentials by creating a `Config.toml` file, following the template provided in the Configuration section.

## Configuration

Create a file called `Config.toml` at the root of the project with the following content:

```toml
[<ORG_NAME>.sapAuthConfig]
username = "<SAP_COMMUNICATION_USERNAME>"
password = "<SAP_COMMUNICATION_USER_PASSWORD>"

[database_product_to_sap_product]
host = "<MYSQL_HOST>"
port = <MYSQL_PORT>
user = "<MYSQL_USERNAME>"
password = "<MYSQL_PASSWORD>"
database = "<DATABASE_NAME>"
```

## Testing
1. Run `bal run` to start the integration.
2. Check the SAP S/4HANA system for the newly created products.
